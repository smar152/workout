(this["webpackJsonpworkout-program"]=this["webpackJsonpworkout-program"]||[]).push([[0],{105:function(e,t,n){},155:function(e,t){},156:function(e,t){},231:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(14),l=n.n(i),o=(n(99),n(56)),s=n(7),c=n(8),m=n(10),u=n(9),d=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},r.a.createElement("title",null,"Combined Shape Copy"),r.a.createElement("g",{id:"Components",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Gallery---Exercise---Hover",transform:"translate(-150.000000, -8.000000)",fill:"#FFFFFF"},r.a.createElement("path",{d:"M160,8 C165.522847,8 170,12.4771525 170,18 C170,23.5228475 165.522847,28 160,28 C154.477153,28 150,23.5228475 150,18 C150,12.4771525 154.477153,8 160,8 Z M160,12.5 L159.85554,12.5068666 L159.714965,12.5270472 C159.022851,12.6601881 158.5,13.2690349 158.5,14 L158.5,14 L158.5,16.5 L156,16.5 L155.85554,16.5068666 C155.094888,16.5795513 154.5,17.2203039 154.5,18 L154.5,18 L154.506867,18.14446 C154.579551,18.9051119 155.220304,19.5 156,19.5 L156,19.5 L158.5,19.5 L158.5,22 L158.506867,22.14446 C158.579551,22.9051119 159.220304,23.5 160,23.5 L160,23.5 L160.14446,23.4931334 C160.905112,23.4204487 161.5,22.7796961 161.5,22 L161.5,22 L161.5,19.5 L164,19.5 L164.14446,19.4931334 C164.905112,19.4204487 165.5,18.7796961 165.5,18 L165.5,18 L165.493133,17.85554 C165.420449,17.0948881 164.779696,16.5 164,16.5 L164,16.5 L161.5,16.5 L161.5,14 L161.493133,13.85554 C161.420449,13.0948881 160.779696,12.5 160,12.5 L160,12.5 Z",id:"Combined-Shape-Copy"})))))},f=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={addButtonVisible:!1},e}return Object(c.a)(n,[{key:"addPlusIcon",value:function(){this.setState({addButtonVisible:!0})}},{key:"removePlusIcon",value:function(){this.setState({addButtonVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.onAdd,a=t.exercise;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"exerciseThumbnail mt-3 d-flex rounded",onMouseEnter:function(){return e.addPlusIcon()},onMouseLeave:function(){return e.removePlusIcon()}},r.a.createElement("p",{className:"align-self-end m-2 font-weight-bolder"}," ",a.name),r.a.createElement("div",{className:"align-self-start ml-auto mt-2 mr-2 pointer",onClick:function(){return n(a)}},this.state.addButtonVisible&&r.a.createElement(d,null))))}}]),n}(a.Component),h=function(e){return r.a.createElement("svg",{width:"16px",height:"20px",viewBox:"0 0 16 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},r.a.createElement("title",null,"Break"),r.a.createElement("g",{id:"Design",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",opacity:"0.2"},r.a.createElement("g",{id:"Customization",transform:"translate(-336.000000, -385.000000)",fill:"#000000"},r.a.createElement("g",{id:"achivements/upload-time",transform:"translate(332.000000, 383.000000)"},r.a.createElement("path",{d:"M15,2 C15.5522847,2 16,2.44771525 16,3 L16,4 C16,4.55228475 15.5522847,5 15,5 L14,5 C13.7238576,5 13.5,5.22385763 13.5,5.5 C13.5,5.8006102 13.6854111,6.0700746 13.9661769,6.17748515 C14.4189675,6.35073694 14.7670932,6.48684125 15.0105541,6.58579805 C17.9367925,7.77519302 20,10.6466525 20,14 C20,18.418278 16.418278,22 12,22 C7.581722,22 4,18.418278 4,14 C4,10.6388277 6.07284754,7.7617948 9.0099447,6.57749934 C9.24912557,6.4810569 9.59041849,6.34786206 10.0338234,6.17791482 C10.3146169,6.07029668 10.5,5.80071018 10.5,5.5 C10.5,5.22385763 10.2761424,5 10,5 L9,5 C8.44771525,5 8,4.55228475 8,4 L8,3 C8,2.44771525 8.44771525,2 9,2 L15,2 Z M12,10 C11.4477153,10 11,10.4477153 11,11 L11,11 L11,13 L9,13 C8.44771525,13 8,13.4477153 8,14 C8,14.5522847 8.44771525,15 9,15 L9,15 L10.999,15 L11,17 C11,17.5522847 11.4477153,18 12,18 C12.5522847,18 13,17.5522847 13,17 L13,17 L13,15 L15,15 C15.5522847,15 16,14.5522847 16,14 C16,13.4477153 15.5522847,13 15,13 L15,13 L13,13 L13,11 C13,10.4477153 12.5522847,10 12,10 Z",id:"Combined-Shape"})))))},p=function(e){return r.a.createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},r.a.createElement("title",null,"Add Break"),r.a.createElement("defs",null,r.a.createElement("path",{d:"M645,385 C650.522847,385 655,389.477153 655,395 C655,400.522847 650.522847,405 645,405 C639.477153,405 635,400.522847 635,395 C635,389.477153 639.477153,385 645,385 Z M645,389.5 L644.85554,389.506867 L644.714965,389.527047 C644.022851,389.660188 643.5,390.269035 643.5,391 L643.5,391 L643.5,393.5 L641,393.5 L640.85554,393.506867 C640.094888,393.579551 639.5,394.220304 639.5,395 L639.5,395 L639.506867,395.14446 C639.579551,395.905112 640.220304,396.5 641,396.5 L641,396.5 L643.5,396.5 L643.5,399 L643.506867,399.14446 C643.579551,399.905112 644.220304,400.5 645,400.5 L645,400.5 L645.14446,400.493133 C645.905112,400.420449 646.5,399.779696 646.5,399 L646.5,399 L646.5,396.5 L649,396.5 L649.14446,396.493133 C649.905112,396.420449 650.5,395.779696 650.5,395 L650.5,395 L650.493133,394.85554 C650.420449,394.094888 649.779696,393.5 649,393.5 L649,393.5 L646.5,393.5 L646.5,391 L646.493133,390.85554 C646.420449,390.094888 645.779696,389.5 645,389.5 L645,389.5 Z",id:"path-1"}),r.a.createElement("filter",{x:"-10.0%",y:"-10.0%",width:"120.0%",height:"120.0%",filterUnits:"objectBoundingBox",id:"filter-2"},r.a.createElement("feGaussianBlur",{stdDeviation:"1.5",in:"SourceAlpha",result:"shadowBlurInner1"}),r.a.createElement("feOffset",{dx:"0",dy:"1",in:"shadowBlurInner1",result:"shadowOffsetInner1"}),r.a.createElement("feComposite",{in:"shadowOffsetInner1",in2:"SourceAlpha",operator:"arithmetic",k2:"-1",k3:"1",result:"shadowInnerInner1"}),r.a.createElement("feColorMatrix",{values:"0 0 0 0 1   0 0 0 0 1   0 0 0 0 1  0 0 0 0.2 0",type:"matrix",in:"shadowInnerInner1"}))),r.a.createElement("g",{id:"Design",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.a.createElement("g",{id:"Customization",transform:"translate(-635.000000, -385.000000)"},r.a.createElement("g",{id:"Combined-Shape"},r.a.createElement("use",{fill:"#1979FF",fillRule:"evenodd",xlink:"true",href:"#path-1"}),r.a.createElement("use",{fill:"black",fillOpacity:"1",filter:"url(#filter-2)",xlink:"true",href:"#path-1"})))))},g=function(e){var t=e.onAddBreak;return r.a.createElement("div",null,r.a.createElement("button",{onClick:t,className:"addBreakButton font-weight-bold d-flex flex-row align-items-center justify-content-between p-4 w-100 mt-2 mb-2"},r.a.createElement(h,null),"Add Break",r.a.createElement(p,null)))},E=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={currentExercises:[],exercisesLabel:"Top Exercises"},e}return Object(c.a)(n,[{key:"findTopExercises",value:function(){this.findExercises({maxRecords:8,view:"Grid view",sort:[{field:"Uses",direction:"desc"}]})}},{key:"findExercises",value:function(e){var t=this;this.props.base("Exercises").select(e).eachPage((function(e,n){var a=e.map((function(e){return{name:e.get("Name"),sets:e.get("Sets"),reps:e.get("Repetition"),time:e.get("Duration"),rest:e.get("Rest Between (seconds)")}}));t.setState({currentExercises:a}),n()}),(function(e){e&&console.error(e)}))}},{key:"searchExercise",value:function(e){var t=this,n=e.toLowerCase();e?(this.setState({exercisesLabel:"Search Results"}),this.props.base("Exercises").select({maxRecords:8,view:"Grid view",sort:[{field:"Name",direction:"asc"}]}).eachPage((function(e,a){var r=e.filter((function(e){return e.get("Name").toLowerCase().match(n)})).map((function(e){return{name:e.get("Name"),sets:e.get("Sets"),reps:e.get("Repetition"),time:e.get("Duration"),rest:e.get("Rest Between (seconds)")}}));t.setState({currentExercises:r}),a()}),(function(e){e&&console.error(e)}))):(this.setState({exercisesLabel:"Top Exercises"}),this.findTopExercises())}},{key:"componentDidMount",value:function(){this.findTopExercises()}},{key:"render",value:function(e){var t=this;return r.a.createElement("div",{className:"content searchResults mt-2 mb-5 p-4",key:"mainContent"},r.a.createElement("input",{type:"text",placeholder:"Search:",className:"w-100 border-0 inputs p-4 mb-2",onChange:function(e){return t.searchExercise(e.target.value)}}),r.a.createElement(g,{onAddBreak:this.props.onAddBreak}),r.a.createElement("div",{className:"mt-4"},r.a.createElement("h6",null,this.state.exercisesLabel)),r.a.createElement("div",{className:"d-flex flex-wrap justify-content-between"},this.state.currentExercises.map((function(e){return r.a.createElement(f,{key:e.name,exercise:e,onAdd:t.props.onAdd})}))))}}]),n}(a.Component),v=n(19),x=n(13),w=function(){return r.a.createElement("svg",{width:"14px",height:"10px",viewBox:"0 0 14 10",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},r.a.createElement("title",null,"Group"),r.a.createElement("g",{id:"Components",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",fillOpacity:"0.2"},r.a.createElement("g",{id:"Exercise---Hover",transform:"translate(-24.000000, -25.000000)",fill:"#191919"},r.a.createElement("g",{id:"Group",transform:"translate(24.000000, 25.000000)"},r.a.createElement("rect",{id:"Rectangle",x:"0",y:"0",width:"14",height:"2"}),r.a.createElement("rect",{id:"Rectangle-Copy",x:"0",y:"8",width:"14",height:"2"})))))},b=function(){return r.a.createElement("svg",{width:"16px",height:"20px",viewBox:"0 0 16 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},r.a.createElement("title",null,"universal/delete"),r.a.createElement("g",{id:"Components",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",opacity:"0.3"},r.a.createElement("g",{id:"Exercise---Hover",transform:"translate(-364.000000, -20.000000)",fill:"#131313"},r.a.createElement("g",{id:"universal/delete",transform:"translate(360.000000, 18.000000)"},r.a.createElement("path",{d:"M18,9 C18.5522847,9 19,9.44771525 19,10 L19,20 C19,21.1045695 18.1045695,22 17,22 L7,22 C5.8954305,22 5,21.1045695 5,20 L5,10 C5,9.44771525 5.44771525,9 6,9 L18,9 Z M9,12 C8.44771525,12 8,12.4477153 8,13 L8,18 C8,18.5522847 8.44771525,19 9,19 C9.55228475,19 10,18.5522847 10,18 L10,13 C10,12.4477153 9.55228475,12 9,12 Z M15,12 C14.4477153,12 14,12.4477153 14,13 L14,18 C14,18.5522847 14.4477153,19 15,19 C15.5522847,19 16,18.5522847 16,18 L16,13 C16,12.4477153 15.5522847,12 15,12 Z M13,2 C13.5522847,2 14,2.44771525 14,3 L14,4 L18.5,4 C19.3284271,4 20,4.67157288 20,5.5 C20,6.32842712 19.3284271,7 18.5,7 L5.5,7 C4.67157288,7 4,6.32842712 4,5.5 C4,4.67157288 4.67157288,4 5.5,4 L10,4 L10,3 C10,2.44771525 10.4477153,2 11,2 L13,2 Z",id:"Combined-Shape"})))))},k=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={deleteButtonVisible:!1},e}return Object(c.a)(n,[{key:"addDeleteIcon",value:function(){this.setState({deleteButtonVisible:!0})}},{key:"removeDeleteIcon",value:function(){this.setState({deleteButtonVisible:!1})}},{key:"deleteCard",value:function(e,t){this.props.headerRight?e():t()}},{key:"render",value:function(e){var t=this,n=this.props,a=n.headerLeft,i=n.headerRight,l=n.mainContent,o=n.onDelete,s=n.onDeleteExercise;return r.a.createElement("div",{className:"p-3 pt-2",onMouseEnter:function(){return t.addDeleteIcon()},onMouseLeave:function(){return t.removeDeleteIcon()}},r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement("div",{className:"align-self-end p-1"},r.a.createElement(w,null)),r.a.createElement("h5",{className:"ml-2 align-self-end mb-0 p-1 font-weight-bold"},a),r.a.createElement("div",{className:"breakDuration ml-1 align-self-end p-1"},i),r.a.createElement("div",{className:"pointer ml-auto mt-2 mr-2",onClick:function(){return t.deleteCard(o,s)}},this.state.deleteButtonVisible&&r.a.createElement(b,null))),r.a.createElement("div",null,l))}}]),n}(a.Component),C=n(31),L=n.n(C),y=function(e){var t=e.title,n=e.children;return r.a.createElement("div",{className:"stats d-flex flex-column text-center"},r.a.createElement("h6",null,t),r.a.createElement("p",{className:"font-weight-bolder"},n))},N=function(e){var t=e.exercise,n=e.index,i=e.onDeleteExercise,l=Object(a.useState)(L()()),o=Object(v.a)(l,2),s=o[0],c=(o[1],Object(a.useState)(!1)),m=Object(v.a)(c,2),u=(m[0],m[1],t.data);return r.a.createElement(x.b,{draggableId:s,index:n,key:n},(function(e){return r.a.createElement("div",Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),r.a.createElement(k,{onDeleteExercise:i,headerLeft:u.name,headerRight:null,mainContent:r.a.createElement("div",{className:" mt-3 d-flex flex-row justify-content-between"},r.a.createElement(y,{title:"SETS"},u.sets),r.a.createElement(y,{title:"REPS"},u.reps),r.a.createElement(y,{title:"TIME"},u.time),r.a.createElement(y,{title:"REST"},u.rest&&"".concat(u.rest,"'")))}))}))},B=function(e){var t=e.onAdd,n=e.nextIndex;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pointer mt-2 p-2",onClick:function(){return t(n)}},r.a.createElement("div",{className:"addBreakLabel d-flex text-center m-0 p-0"},r.a.createElement("span",{className:"addBreakTitle"},"Add Break"))))},P=function(e){var t=e.index,n=e.breakAdded,i=e.onDelete,l=Object(a.useState)(L()()),o=Object(v.a)(l,2),s=o[0];o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.b,{draggableId:s,index:t,key:t},(function(e){return r.a.createElement("div",{className:"exerciseDetails m-2 mb-4"},r.a.createElement("div",Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef}),r.a.createElement(k,{headerLeft:"Break",headerRight:"5 min",mainContent:null,breakAdded:n,onDelete:i})))})))},j=function(e){var t=e.exerciseProgram,n=e.onDeleteExercise,a=e.onDeleteBreak,i=e.onAddBreak;return r.a.createElement("div",{className:"content currentExerciseProgram align-self-start mb-5"},t.map((function(e,l){return"exercise"===e.type?r.a.createElement("div",{key:l},r.a.createElement("div",{className:"exerciseDetails m-2 mb-4",key:l},r.a.createElement(N,{key:l,index:l,exercise:e,onDeleteExercise:function(){return n(l)}})),l!==t.length-1&&"exercise"===t[l+1].type&&r.a.createElement(B,{nextIndex:l+1,onAdd:i,onDelete:function(){return a(l)}})):"break"===e.type?r.a.createElement(P,{onDelete:function(){return a(l)},key:l,index:l}):void 0})))},S=(n(105),n(55)),O=n.n(S),D=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={currentProgram:[],totalTime:0,workoutName:""},a.addExerciseToList=function(e){var t={type:"exercise",data:e},n=[].concat(Object(o.a)(a.state.currentProgram),[t]),r=Number(e.time.replace(/[^0-9]/g,""));a.setState({currentProgram:n,totalTime:a.state.totalTime+r})},a.removeExerciseFromList=function(e){var t=a.state.currentProgram[e].data,n=a.state.currentProgram.filter((function(t,n){return n!=e})),r=Number(t.time.replace(/[^0-9]/g,""));a.setState({currentProgram:n,totalTime:a.state.totalTime-r})},a.addBreakTolist=function(e){var t=Object(o.a)(a.state.currentProgram);t.splice(e,0,{type:"break"}),a.setState({currentProgram:t,totalTime:a.state.totalTime+5})},a.removeBreakFromList=function(e){var t=a.state.currentProgram.filter((function(t,n){return n!=e}));a.setState({currentProgram:t,totalTime:a.state.totalTime-5})},a.calculateWorkoutNo=function(){return new Promise((function(e,t){a.base("Workout Exercises").select({maxRecords:1,view:"Grid view",sort:[{field:"no",direction:"desc"}]}).eachPage((function(t,n){var a=t.map((function(e){return{no:e.get("no")}})),r=Number(a[0].no)+1;e({currentWorkoutNumber:r})}),(function(e){if(e)return t(e),void console.error(e)}))}))},a.saveProgram=function(){a.calculateWorkoutNo().then((function(e){var t=e.currentWorkoutNumber;a.state.currentProgram.forEach((function(e){"exercise"===e.type?a.base("Workout Exercises").create([{fields:{Notes:e.data.name,no:t,Workout:a.state.workoutName}}]):a.base("Workout Exercises").create([{fields:{Notes:"Break",no:t,Workout:a.state.workoutName}}])}))})).catch((function(e){console.log("error!",e)}))},a.onDragEnd=function(e){var t=e.destination,n=e.source;e.draggableId;if(t&&(t.droppableId!==n.droppableId||t.index!==n.index)){var r=Array.from(a.state.currentProgram),i=r.splice(n.index,1);r.splice(t.index,0,i[0]),a.setState({currentProgram:r})}},a.changeWorkoutName=function(e){a.setState({workoutName:e})},O.a.configure({endpointUrl:"https://api.airtable.com",apiKey:"keylodn7FgWffa90i"}),a.base=O.a.base("appCUVYjYyYPP2KdR"),a}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container mt-4 p-0 "},r.a.createElement("div",{className:"d-flex flex-row"},r.a.createElement("h4",{className:"title font-weight-light"},r.a.createElement("span",{className:"font-weight-bolder"},"Customize")," your workout")),r.a.createElement("div",{className:"d-flex flex-row justify-content-between mt-4"},r.a.createElement("input",{type:"text",className:"titleInput inputs p-4 ",placeholder:"Workout name",onChange:function(t){return e.changeWorkoutName(t.target.value)}}),r.a.createElement("div",{className:"d-inline-flex align-items-center"},r.a.createElement("div",{className:"totalTime align-self-center font-weight-light"},"Total time"," ",r.a.createElement("span",{className:"font-weight-bolder"},this.state.totalTime," m")),r.a.createElement("button",{className:"btn btn-outline-primary ml-3 pl-4 pr-4 saveButton font-weight-bold",onClick:function(){return e.saveProgram()}},"Save"))),r.a.createElement("div",{className:"d-flex flex-row justify-content-between align-items-start mt-3"},this.base&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{base:this.base,onAdd:this.addExerciseToList,onAddBreak:function(){return e.addBreakTolist(e.state.currentProgram.length)}}),r.a.createElement(x.a,{onDragEnd:this.onDragEnd},r.a.createElement(x.c,{droppableId:"currentProgram"},(function(t){return r.a.createElement("div",Object.assign({ref:t.innerRef},t.droppableProps),r.a.createElement(j,{exerciseProgram:e.state.currentProgram,onDeleteExercise:e.removeExerciseFromList,onAddBreak:e.addBreakTolist,onDeleteBreak:e.removeBreakFromList,key:"currentExerciseProgram"},t.placeholder))})))))))}}]),n}(a.Component),I=function(){return r.a.createElement(D,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},94:function(e,t,n){e.exports=n(231)},99:function(e,t,n){}},[[94,1,2]]]);
//# sourceMappingURL=main.9db835be.chunk.js.map